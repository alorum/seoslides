/*! seoslides - v1.2.1
 * https://seoslides.com
 * Copyright (c) 2013 Alorum; * Licensed GPLv2+ */
!function(a,b,c){function d(d){function g(b){return b=b||a.event,b&&(b.returnValue=e.confirm_navigation),e.confirm_navigation}function h(){b.ajax({type:"post",url:e.ajaxurl,data:{action:"seoslides-import",presentation:r},success:function(a){return c!==a.not_ready?(x.html(x.html()+"<p>"+e.text_notready+"</p>"),l(),void 0):(v=a.slideset,t=a.slides,s=a.total,i(t[u]),void 0)}})}function i(d){x.html(x.html()+"<p>"+e.text_importing.replace("%1%",u+1).replace("%2%",s)+"</p>"),b.ajax({type:"post",url:e.ajaxurl,data:{action:"seoslides-get-slide",slideset:v,file:d,slide:u,_nonce:e.nonce_import},success:j,error:function(){!1===y?(c!==a.console&&a.console.log("Re-import: "+d),y=!0,i(d)):(c!==a.console&&a.console.log("Import failed: "+d),x.html("<p>"+e.text_failure+"</p>"))}})}function j(){return y=!1,u+=1,u>=s?(l(),void 0):(i(t[u]),void 0)}function k(){y=!1,u=0,v=0,p="",q=[],t=[],s=0,r=null,b.ajax({type:"post",url:e.ajaxurl,data:{action:"seoslides-import-status"},success:function(a){x.html(a)}})}function l(){b.ajax({type:"post",url:e.ajaxurl,data:{action:"seoslides-import-complete",presentation:r},success:function(){return 0===q.length?(k(),z=!1,a.onbeforeunload=null,void 0):(u=0,r=q.pop(),h(),void 0)}})}function m(){z||(z=!0,a.onbeforeunload=g,o.prop("disabled",!0),p="<p>"+e.text_running+"</p>",x.html(p),b.ajax({type:"post",url:e.ajaxurl,data:{action:"get_presentations"},success:function(a){q=a,r=q.pop(),h()}}))}function n(){o.on("click",m)}var o=b(d),p="",q=[],r=null,s=0,t=[],u=0,v=0,w=f.getElementById("seoslides_import_status"),x=b(w),y=!1,z=!1;n()}var e=a.ssimport,f=a.document;b(f.getElementsByClassName("wrap")).on("click",".seoslides-vistoggler",function(){b(this).find(".seoslides-vistogglee").toggle("slow")}),e.importer=new d(f.getElementById("seoslides_process"))}(this,jQuery);